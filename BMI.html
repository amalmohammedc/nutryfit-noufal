<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutryfit - Interactive Health Report Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styles for the BMI gauge */
        .gauge {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 200px;
            margin: 2rem auto;
        }
        .gauge-arc {
            width: 100%;
            height: 100%;
            border-radius: 200px 200px 0 0;
            border-bottom: none;
            position: absolute;
            top: 0;
            left: 0;
            overflow: hidden;
        }
        .gauge-arc-background {
            width: 100%;
            height: 200px;
            border-radius: 200px 200px 0 0;
            border: 30px solid #e9ecef;
            border-bottom: none;
            box-sizing: border-box;
        }
        .gauge-arc-fill {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform-origin: center bottom;
        }
        .gauge-needle {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 4px;
            height: 45%;
            background-color: #343a49;
            transform-origin: bottom center;
            border-radius: 2px;
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        .gauge-needle-knob {
            position: absolute;
            bottom: -10px;
            left: 50%;
            width: 20px;
            height: 20px;
            background-color: #343a49;
            border-radius: 50%;
            transform: translateX(-50%);
        }
        .gauge-center-text {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
        }
        .gauge-labels {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }
        .gauge-label {
            position: absolute;
            bottom: 60px;
            font-size: 0.875rem;
            color: #6c757d;
        }
        .gauge-label-underweight { left: 10%; }
        .gauge-label-normal { left: 50%; transform: translateX(-50%); }
        .gauge-label-overweight { right: 10%; }
        .highlighted-category {
            background-color: #feead1 !important;
            color: #c25a00 !important;
            ring: 2px;
            ring-color: #f97316;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-gray-50">

    <div class="w-full max-w-2xl mx-auto p-4 md:p-8">
        <!-- Input Form Section -->
        <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8 mb-8">
            <header class="text-center mb-6">
                <img src="https://i.imgur.com/sOF4N2k.png" alt="Nutryfit Logo" class="h-12 mx-auto mb-4" onerror="this.onerror=null;this.src='https://placehold.co/200x50/e2e8f0/334155?text=Nutryfit';">
                <h1 class="text-2xl font-bold text-green-600">Health Report Generator</h1>
                <p class="text-gray-500 mt-1">Enter client details to generate a new report.</p>
            </header>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700">Client Name</label>
                    <input type="text" id="name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500" placeholder="e.g., MUHD NOUFAL">
                </div>
                <div>
                    <label for="age" class="block text-sm font-medium text-gray-700">Age</label>
                    <input type="number" id="age" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500" placeholder="e.g., 35">
                </div>
                <div>
                    <label for="height" class="block text-sm font-medium text-gray-700">Height (cm)</label>
                    <input type="number" id="height" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500" placeholder="e.g., 164">
                </div>
                <div>
                    <label for="weight" class="block text-sm font-medium text-gray-700">Weight (KG)</label>
                    <input type="number" id="weight" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500" placeholder="e.g., 87">
                </div>
            </div>
            <div class="mt-6">
                <button id="generate-btn" class="w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors duration-300 shadow-md">
                    Generate & Preview Report
                </button>
            </div>
        </div>

        <!-- Report Section (Initially Hidden) -->
        <div id="report-section" class="w-full bg-white rounded-2xl shadow-lg p-6 md:p-10 hidden">
            <!-- Header Section -->
            <header class="text-center mb-8">
                <img src="https://i.imgur.com/sOF4N2k.png" alt="Nutryfit Logo" class="h-12 mx-auto mb-4" onerror="this.onerror=null;this.src='https://placehold.co/200x50/e2e8f0/334155?text=Nutryfit';">
                <h1 class="text-3xl font-bold text-green-600">Body Mass Index Report</h1>
                <p class="text-gray-500 mt-2">A comprehensive overview of your current health status.</p>
            </header>

            <!-- Client Details -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center bg-green-50 p-4 rounded-lg mb-8">
                <div>
                    <p class="text-sm text-gray-500">Name</p>
                    <p id="report-name" class="font-semibold text-lg text-gray-800"></p>
                </div>
                <div>
                    <p class="text-sm text-gray-500">Age</p>
                    <p id="report-age" class="font-semibold text-lg text-gray-800"></p>
                </div>
                <div>
                    <p class="text-sm text-gray-500">Height</p>
                    <p id="report-height" class="font-semibold text-lg text-gray-800"></p>
                </div>
                <div>
                    <p class="text-sm text-gray-500">Weight</p>
                    <p id="report-weight" class="font-semibold text-lg text-gray-800"></p>
                </div>
            </div>

            <!-- BMI Gauge Section -->
            <div class="text-center mb-8">
                <h2 class="text-xl font-semibold text-gray-700 mb-2">Your BMI is</h2>
                <div class="gauge">
                    <div class="gauge-arc">
                        <div class="gauge-arc-background"></div>
                        <div class="gauge-arc-fill" style="background: linear-gradient(to right, #3b82f6, #22c55e, #f97316, #ef4444);"></div>
                    </div>
                    <div class="absolute w-[calc(100%-60px)] h-[calc(100%-30px)] bg-white rounded-t-full bottom-0 left-1/2 -translate-x-1/2"></div>
                    <div id="gauge-needle" class="gauge-needle"></div>
                    <div class="gauge-needle-knob"></div>
                    <div class="gauge-center-text">
                        <p class="text-5xl font-bold text-gray-800" id="report-bmi-value"></p>
                        <p class="text-gray-500">kg/mÂ²</p>
                    </div>
                    <div class="gauge-labels">
                        <span class="gauge-label gauge-label-underweight">Underweight</span>
                        <span class="gauge-label gauge-label-normal">Normal</span>
                        <span class="gauge-label gauge-label-overweight">Overweight</span>
                    </div>
                </div>
            </div>
            
            <!-- BMI Analysis -->
            <div class="bg-gray-100 p-6 rounded-lg mb-8">
                <h3 class="font-semibold text-lg text-center mb-4 text-gray-800">Health Analysis</h3>
                <div class="flex flex-col md:flex-row justify-around text-center">
                    <div class="mb-4 md:mb-0">
                        <p class="text-sm text-gray-500">Your Category</p>
                        <p id="report-category" class="font-bold text-2xl"></p>
                    </div>
                    <div class="mb-4 md:mb-0">
                        <p class="text-sm text-gray-500">Ideal Weight Range</p>
                        <p id="report-ideal-weight" class="font-bold text-2xl text-green-600"></p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">Difference</p>
                        <p id="report-difference" class="font-bold text-2xl text-red-500"></p>
                    </div>
                </div>
            </div>

            <!-- BMI Categories Table -->
            <div>
                <h3 class="font-semibold text-lg text-center mb-4 text-gray-800">BMI Categories</h3>
                <ul id="bmi-categories-list" class="space-y-2">
                    <li data-range="0-15.9" class="flex justify-between p-3 rounded-lg bg-blue-100 text-blue-800"><span>Very Severely Underweight</span><span>&lt; 15.9</span></li>
                    <li data-range="16-16.9" class="flex justify-between p-3 rounded-lg bg-blue-100 text-blue-800"><span>Severely Underweight</span><span>16.0 - 16.9</span></li>
                    <li data-range="17-18.4" class="flex justify-between p-3 rounded-lg bg-cyan-100 text-cyan-800"><span>Underweight</span><span>17.0 - 18.4</span></li>
                    <li data-range="18.5-24.9" class="flex justify-between p-3 rounded-lg bg-green-100 text-green-800"><span>Normal</span><span>18.5 - 24.9</span></li>
                    <li data-range="25-29.9" class="flex justify-between p-3 rounded-lg bg-yellow-100 text-yellow-800"><span>Overweight</span><span>25.0 - 29.9</span></li>
                    <li data-range="30-34.9" class="flex justify-between p-3 rounded-lg bg-orange-100 text-orange-800"><span>Obese Class I</span><span>30.0 - 34.9</span></li>
                    <li data-range="35-39.9" class="flex justify-between p-3 rounded-lg bg-red-100 text-red-800"><span>Obese Class II</span><span>35.0 - 39.9</span></li>
                    <li data-range="40-999" class="flex justify-between p-3 rounded-lg bg-red-200 text-red-800"><span>Obese Class III</span><span>&gt; 40.0</span></li>
                </ul>
            </div>

            <!-- Footer -->
            <footer class="text-center mt-10 pt-6 border-t border-gray-200">
                <p class="text-lg font-semibold text-gray-800">Your Health, Personalized.</p>
                <p class="text-gray-500 mt-2">This report was generated by Nutryfit. For a personalized diet plan and expert guidance, contact us.</p>
                <div class="mt-4 flex justify-center items-center space-x-6 text-green-600">
                    <a href="http://www.nutryfit.in" class="hover:underline">www.nutryfit.in</a>
                    <span>|</span>
                    <a href="tel:+918594001161" class="hover:underline">+91 8594 0011 61</a>
                </div>
            </footer>
        </div>
    </div>

    <script>
        document.getElementById('generate-btn').addEventListener('click', function() {
            // 1. Get values from input fields
            const name = document.getElementById('name').value || 'N/A';
            const age = document.getElementById('age').value || 'N/A';
            const heightCm = parseFloat(document.getElementById('height').value);
            const weightKg = parseFloat(document.getElementById('weight').value);

            if (isNaN(heightCm) || isNaN(weightKg) || heightCm <= 0 || weightKg <= 0) {
                alert('Please enter valid height and weight.');
                return;
            }

            // 2. Calculations
            const heightM = heightCm / 100;
            const bmi = (weightKg / (heightM * heightM)).toFixed(1);
            
            const idealWeightLower = (18.5 * (heightM * heightM)).toFixed(0);
            const idealWeightUpper = (24.9 * (heightM * heightM)).toFixed(0);
            const idealWeightRange = `${idealWeightLower} - ${idealWeightUpper} KG`;
            
            const difference = (weightKg - idealWeightUpper).toFixed(1);
            const differenceText = difference > 0 ? `+${difference} KG` : `${difference} KG`;

            // 3. Determine BMI Category
            let category = '';
            let categoryColor = 'text-gray-800';
            if (bmi < 16) { category = 'Very Severely Underweight'; categoryColor = 'text-blue-500'; }
            else if (bmi <= 16.9) { category = 'Severely Underweight'; categoryColor = 'text-blue-500'; }
            else if (bmi <= 18.4) { category = 'Underweight'; categoryColor = 'text-cyan-500'; }
            else if (bmi <= 24.9) { category = 'Normal'; categoryColor = 'text-green-600'; }
            else if (bmi <= 29.9) { category = 'Overweight'; categoryColor = 'text-yellow-500'; }
            else if (bmi <= 34.9) { category = 'Obese Class I'; categoryColor = 'text-orange-500'; }
            else if (bmi <= 39.9) { category = 'Obese Class II'; categoryColor = 'text-red-500'; }
            else { category = 'Obese Class III'; categoryColor = 'text-red-600'; }

            // 4. Update Report Section
            document.getElementById('report-name').textContent = name.toUpperCase();
            document.getElementById('report-age').textContent = age;
            document.getElementById('report-height').textContent = `${heightCm} cm`;
            document.getElementById('report-weight').textContent = `${weightKg} KG`;
            document.getElementById('report-bmi-value').textContent = bmi;
            document.getElementById('report-category').textContent = category;
            document.getElementById('report-category').className = `font-bold text-2xl ${categoryColor}`;
            document.getElementById('report-ideal-weight').textContent = idealWeightRange;
            document.getElementById('report-difference').textContent = differenceText;

            // 5. Update Gauge Needle
            const needle = document.getElementById('gauge-needle');
            const minBmi = 15;
            const maxBmi = 40;
            const percentage = (bmi - minBmi) / (maxBmi - minBmi);
            let angle = -90 + (percentage * 180);
            angle = Math.max(-90, Math.min(90, angle));
            needle.style.transform = `translateX(-50%) rotate(${angle}deg)`;

            // 6. Highlight Category in Table
            const categoriesList = document.getElementById('bmi-categories-list').children;
            for (let li of categoriesList) {
                li.classList.remove('ring-2', 'ring-orange-400', 'font-bold');
                const range = li.dataset.range.split('-');
                if (bmi >= parseFloat(range[0]) && bmi <= parseFloat(range[1])) {
                    li.classList.add('ring-2', 'ring-orange-400', 'font-bold');
                }
            }

            // 7. Show the report
            const reportSection = document.getElementById('report-section');
            reportSection.classList.remove('hidden');
            reportSection.scrollIntoView({ behavior: 'smooth' });
        });
    </script>
</body>
</html>
